# big-market-codeView
### 描述：
## 参考字节掘⾦平台及拼多多抽奖系统场景服务，运⽤抽象、分治和DDD知识、拆解服务边界、凝练领域服务功能，
## 开发的⼀个转盘与九宫格抽奖系统，实现了⾼并发场景下的抽奖、⽀付、积分、兑换和发奖等基本功能，引⼊了Redis、
## RabbitMQ保证⾼可⽤，并针对⾼并发场景实现了接⼝的动态限流和熔断。
### 框架：以DDD领域驱动设计开发，微服务拆分的分布式架构
### 技术栈：SpringBoot、MyBatis、MySQL、Redis、RabbitMQ、Zookeeper、Canal、Elasticsearch、YDB-Router、xxl-job
### 主要实现功能总结如下：
## 1. 运⽤模板模式定义标准、运⽤责任链+⼯⼚模式解耦抽奖前置规则，实现⿊名单过滤与抽奖权重过滤。使⽤组合模式设计规则
## 树实现抽奖之后的次数锁、兜底奖励和库存扣减规则，确保系统低耦合与⾼扩展性。
## 2. 通过Redis预热活动的信息，预扣减库存，加快接⼝响应速度，同时应⽤Redis的decr命令进⾏库存分段与加锁兜底设计，有效
## 预防超卖现象，提升系统稳定性。
## 3. 通过RabbitMQ解耦订单的“创建-处理”、“抽奖-发奖”与“⽀付-发放积分”流程，完成异步处理机制。
## 4. 设计Task任务表与相应定时任务，补偿RabbitMQ使⽤过程中可能出现的发送、消费失败问题。
## 5. ⾼效优化算法，将抽奖概率优化⾄O( )的时间复杂度，显著提⾼抽奖计算效率。
## 6. 使⽤user_id作为路由键，对抽奖记录、流⽔记录表等数据进⾏分库分表，提⾼查询效率。通过Canal将分库分表的数据同步⾄
## ES，提升后台查询效率。
